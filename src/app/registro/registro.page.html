<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Registro de usuario </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form #registrationForm="ngForm">

    <!-- Nombre -->
    <ion-item>
      <ion-label position="floating">Nombre</ion-label>
      <ion-input
        type="text"
        name="firstName"
        ngModel
        required
        minlength="2"
        #firstName="ngModel">
      </ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="firstName.invalid && firstName.touched">
      <p>El nombre es obligatorio y debe tener al menos 2 caracteres.</p>
    </ion-text>

    <!-- Apellido -->
    <ion-item>
      <ion-label position="floating">Apellido</ion-label>
      <ion-input
        type="text"
        name="lastName"
        ngModel
        required
        minlength="2"
        #lastName="ngModel">
      </ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="lastName.invalid && lastName.touched">
      <p>El apellido es obligatorio y debe tener al menos 2 caracteres.</p>
    </ion-text>

    <!-- RUT (validación básica) -->
    <ion-item>
      <ion-label position="floating">RUT</ion-label>
      <ion-input
        type="text"
        name="rut"
        ngModel
        required
        pattern="[0-9]{7,8}-[0-9Kk]"
        #rut="ngModel"
        >
      </ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="rut.invalid && rut.touched">
      <p>El RUT es obligatorio y debe tener un formato válido (Ej: 12345678-K).</p>
    </ion-text>

    <!-- Correo electrónico -->
    <ion-item>
      <ion-label position="floating">Correo Electrónico</ion-label>
      <ion-input
        type="email"
        name="email"
        ngModel
        required
        #email="ngModel"
>
      </ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="email.invalid && email.touched">
      <p>Debe ser un correo electrónico válido.</p>
    </ion-text>

    
    <ion-item>
      <ion-label position="floating">Contraseña</ion-label>
      <ion-input
        type="password"
        name="password"
        ngModel
        required
        minlength="8"
        #password="ngModel">
      </ion-input>
    </ion-item>
    <ion-text color="danger" *ngIf="password.invalid && password.touched">
      <p>La contraseña debe tener al menos 8 caracteres.</p>
    </ion-text>

    <ion-button expand="full" [disabled]="registrationForm.invalid">
      Registrarse
    </ion-button>
  </form>
</ion-content>
